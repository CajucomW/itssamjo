{"ast":null,"code":"import _classCallCheck from\"/home/cajucomw/Documents/projects/itssamjo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cajucomw/Documents/projects/itssamjo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/cajucomw/Documents/projects/itssamjo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/cajucomw/Documents/projects/itssamjo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,PropsTypes}from'react';import{withRouter}from'react-router';import axios from\"axios\";import{API_URL}from\"../../constants\";var BlogsWrite=/*#__PURE__*/function(_React$Component){_inherits(BlogsWrite,_React$Component);var _super=_createSuper(BlogsWrite);function BlogsWrite(){var _this;_classCallCheck(this,BlogsWrite);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:'',text:''};_this.onChangeTitle=function(ev){_this.setState({title:ev.target.value});};_this.onChangeText=function(ev){_this.setState({text:ev.target.value});};_this.fetchBlogs=function(){axios.get(API_URL).then(function(response){return _this.setState({blogs:response.data});});};_this.resetState=function(){_this.fetchBlogs();};_this.createBlog=function(ev){ev.preventDefault();axios.post(API_URL,_this.state).then(function(){_this.setState();_this.props.history.push('');});};return _this;}_createClass(BlogsWrite,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.createBlog},/*#__PURE__*/React.createElement(\"h2\",null,\"Title\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Title goes here.\",onChange:this.onChangeTitle}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"Blog\"),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Write blog here.\",onChange:this.onChangeText}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",null,\"Post\"));}}]);return BlogsWrite;}(React.Component);export default withRouter(BlogsWrite);","map":{"version":3,"sources":["/home/cajucomw/Documents/projects/itssamjo/frontend/src/components/BlogsWrite/BlogsWrite.js"],"names":["React","Component","PropsTypes","withRouter","axios","API_URL","BlogsWrite","state","title","text","onChangeTitle","ev","setState","target","value","onChangeText","fetchBlogs","get","then","response","blogs","data","resetState","createBlog","preventDefault","post","props","history","push"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,GAEMC,CAAAA,U,uVACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJC,IAAI,CAAE,EAFF,C,OAKRC,a,CAAgB,SAACC,EAAD,CAAQ,CACpB,MAAKC,QAAL,CAAc,CACVJ,KAAK,CAAEG,EAAE,CAACE,MAAH,CAAUC,KADP,CAAd,EAGH,C,OACDC,Y,CAAe,SAACJ,EAAD,CAAQ,CACnB,MAAKC,QAAL,CAAc,CACVH,IAAI,CAAEE,EAAE,CAACE,MAAH,CAAUC,KADN,CAAd,EAGH,C,OAMDE,U,CAAa,UAAM,CACfZ,KAAK,CAACa,GAAN,CAAUZ,OAAV,EACCa,IADD,CACM,SAAAC,QAAQ,QAAI,OAAKP,QAAL,CAAc,CAAEQ,KAAK,CAAED,QAAQ,CAACE,IAAlB,CAAd,CAAJ,EADd,EAEH,C,OAEDC,U,CAAa,UAAM,CACf,MAAKN,UAAL,GACH,C,OAEDO,U,CAAa,SAACZ,EAAD,CAAQ,CACjBA,EAAE,CAACa,cAAH,GACApB,KAAK,CAACqB,IAAN,CAAWpB,OAAX,CAAoB,MAAKE,KAAzB,EACCW,IADD,CACM,UAAM,CACR,MAAKN,QAAL,GACA,MAAKc,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,EAAxB,EACH,CAJD,EAKH,C,6EAEQ,CACL,mBACI,4BAAM,QAAQ,CAAE,KAAKL,UAArB,eACI,sCADJ,cAEI,6BACI,WAAW,CAAC,kBADhB,CAEI,QAAQ,CAAE,KAAKb,aAFnB,EAFJ,cAKI,8BALJ,cAMI,qCANJ,cAOI,gCACI,WAAW,CAAC,kBADhB,CAEI,QAAQ,CAAE,KAAKK,YAFnB,EAPJ,cAUI,8BAVJ,cAWI,yCAXJ,CADJ,CAiBH,C,wBAzDoBf,KAAK,CAACC,S,EA4D/B,cAAeE,CAAAA,UAAU,CAACG,UAAD,CAAzB","sourcesContent":["import React, { Component, PropsTypes } from 'react';\nimport { withRouter } from 'react-router';\nimport axios from \"axios\";\nimport { API_URL } from \"../../constants\";\n\nclass BlogsWrite extends React.Component {\n    state = {\n        title: '',\n        text: '',\n    };\n\n    onChangeTitle = (ev) => {\n        this.setState({\n            title: ev.target.value,\n        });\n    }\n    onChangeText = (ev) => {\n        this.setState({\n            text: ev.target.value,\n        });\n    }\n\n    // componentDidMount() {\n    //     this.resetState();\n    // }\n\n    fetchBlogs = () => {\n        axios.get(API_URL)\n        .then(response => this.setState({ blogs: response.data }));\n    }\n\n    resetState = () => {\n        this.fetchBlogs();\n    }\n\n    createBlog = (ev) => {\n        ev.preventDefault();\n        axios.post(API_URL, this.state)\n        .then(() => {\n            this.setState();\n            this.props.history.push('');\n        });\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.createBlog}>\n                <h2>Title</h2>\n                <input \n                    placeholder=\"Title goes here.\"\n                    onChange={this.onChangeTitle} />\n                <br />\n                <h2>Blog</h2>\n                <textarea \n                    placeholder=\"Write blog here.\"\n                    onChange={this.onChangeText} />\n                <br />\n                <button>\n                    Post\n                </button>\n            </form>\n        );\n    }\n}\n\nexport default withRouter(BlogsWrite);"]},"metadata":{},"sourceType":"module"}